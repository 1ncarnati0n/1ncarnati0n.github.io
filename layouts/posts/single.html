{{ define "main" }}

<article class="post-detail">

  {{/* Post Header */}}
  <header class="post-header">
    <time class="post-date" datetime="{{ .Date.Format "2006-01-02" }}">
      {{ .Date.Format "2006년 1월 2일" }}
    </time>
    <h1 class="post-title">{{ .Title }}</h1>
    {{ with .Params.description }}
    <p class="post-description">{{ . }}</p>
    {{ end }}
    <div class="post-tags">
      {{ range .Params.tags }}
      <a href="{{ ($.GetPage (printf "tags/%s" .)).RelPermalink }}" class="tag">#{{ . }}</a>
      {{ end }}
    </div>
  </header>

  {{/* Hero Image */}}
  {{ with .Params.thumbnail }}
  <figure class="post-hero">
    <img src="{{ . | relURL }}" alt="{{ $.Title }}" loading="lazy">
  </figure>
  {{ end }}

  {{/* Table of Contents */}}
  {{ if .TableOfContents }}
  <aside class="toc">
    <details open>
      <summary>Table of Contents</summary>
      {{ .TableOfContents }}
    </details>
  </aside>
  {{ end }}

  {{/* Content */}}
  <div class="post-content prose">
    {{ .Content }}
  </div>

  {{/* Navigation */}}
  <nav class="post-nav">
    {{ with .PrevInSection }}
    <a href="{{ .RelPermalink }}" class="post-nav-link post-nav-prev">
      <span class="post-nav-label">&larr; Previous</span>
      <span class="post-nav-title">{{ .Title }}</span>
    </a>
    {{ end }}
    {{ with .NextInSection }}
    <a href="{{ .RelPermalink }}" class="post-nav-link post-nav-next">
      <span class="post-nav-label">Next &rarr;</span>
      <span class="post-nav-title">{{ .Title }}</span>
    </a>
    {{ end }}
  </nav>

</article>

{{ end }}
